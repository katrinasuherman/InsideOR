<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Surgical Outcome Explorer</title>
  <link rel="stylesheet" href="style.css" />
  <script type="module" src="main.js" defer></script>
</head>
<body>
  <main class="scroll-container">

    <!-- HERO SECTION -->
    <section class="hero-section scroll-section">
      <div class="hero-text">
        <h1>
          Inside the <span class="highlight">Operating Room</span><br />
          <span class="subhead">What Affects Surgery Time and Recovery?</span>
        </h1>
        <p class="lead">
          Explore 6,388 real-world surgeries from the VitalDB dataset to uncover
          how age, BMI, approach, and diagnosis influence surgical outcomes.
        </p>
        <div class="hero-buttons">
          <a href="#intro" class="btn primary">Start Exploring</a>
          <a href="https://vitaldb.net/dataset/" class="btn outline" target="_blank" rel="noopener noreferrer">Data</a>
        </div>
      </div>

      <div class="hero-image">
        <img src="gif2.gif" alt="Operating room illustration" />
      </div>
    </section>

    <!-- INTRO TEXT SECTION -->
    <section class="intro-box scroll-section" id="intro">
      <div class="intro-content">
        <p class="reveal" id="line1">
          What happens inside the <span class="highlight-blue">operating room</span>?
        </p>        
        <p id="line2" class="reveal hidden">
          Select from <span class="highlight-red">20 surgical cases</span> and step into the OR with us.
        </p>
      </div>
    </section>

    <!-- SCATTER PLOT EXPLORER SECTION -->
    <section class="scatter-section">
      <!-- LEFT COLUMN: SCROLLABLE TEXT -->
      <div class="scatter-text">
        <h2>Understanding the Scatter Plot</h2>
        <p>This scatter plot compares surgical outcomes across patient factors.</p>
        <p>Try selecting different operation types, emergency status, and sex to observe how trends shift.</p>
        <p>The X and Y axis selectors help you analyze relationships between surgery time, ICU days, BMI, and more.</p>
        <p>Can you identify which group tends to have longer recoveries?</p>
        <p>Keep scrolling to explore different filters and insights from the dataset.</p>
      </div>

      <!-- RIGHT COLUMN: FIXED VISUALIZATION -->
      <div class="vis-panel">
        <section id="controls">
          <div class="optype-filter">
            <label class="optype-pill"><input type="radio" name="optype" value="All" checked /> All</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Colorectal" /> Colorectal</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Stomach" /> Stomach</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Biliary/Pancreas" /> Biliary/Pancreas</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Vascular" /> Vascular</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Major resection" /> Major resection</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Breast" /> Breast</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Minor resection" /> Minor resection</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Transplantation" /> Transplantation</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Hepatic" /> Hepatic</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Thyroid" /> Thyroid</label>
            <label class="optype-pill"><input type="radio" name="optype" value="Others" /> Others</label>
          </div>

          <div>
            <label for="xQuantSelect">X-axis:</label>
            <select id="xQuantSelect">
              <option value="age">Age</option>
              <option value="height">Height</option>
              <option value="weight">Weight</option>
              <option value="bmi">BMI</option>
              <option value="asa">ASA Score</option>
            </select>
          </div>

          <div>
            <label for="ySelect">Y-axis:</label>
            <select id="ySelect">
              <option value="surgery_time">Surgery Time</option>
              <option value="icu_days">ICU Days</option>
            </select>
          </div>
        </section>

        <div class="filter-card">
          <div class="sex-toggle">
            <span>Sex:</span>
            <label class="icon-toggle">
              <input type="checkbox" id="showMale" class="male" checked />
              <span class="icon">♂️</span>
            </label>
            <label class="icon-toggle">
              <input type="checkbox" id="showFemale" class="female" checked />
              <span class="icon">♀️</span>
            </label>
          </div>
        </div>

        <div class="toggle-container">
          <label class="switch">
            <input type="checkbox" id="emergencyToggle">
            <span class="slider"></span>
          </label>
          <label for="emergencyToggle">Show only emergency operations</label>
        </div>

        <section id="stats">
          <strong id="summary">No data loaded.</strong>
        </section>

        <svg id="chart" width="900" height="500"></svg>
      </div>
    </section>
  </main>
</body>
</html>
